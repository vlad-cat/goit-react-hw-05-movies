{"version":3,"file":"static/js/562.65cee3f5.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","images/arrow.svg","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieInfo\":\"MovieDetails_movieInfo__4EKMk\",\"description\":\"MovieDetails_description__33mrB\",\"button\":\"MovieDetails_button__uXZxd\",\"titleMovie\":\"MovieDetails_titleMovie__EIK-c\",\"scoreInfo\":\"MovieDetails_scoreInfo__Pik3p\",\"scoreNumber\":\"MovieDetails_scoreNumber__sHOC2\",\"overviewText\":\"MovieDetails_overviewText__K3-MM\",\"genresList\":\"MovieDetails_genresList__2o809\",\"addTitle\":\"MovieDetails_addTitle__x5dSC\",\"addLinks\":\"MovieDetails_addLinks__lp1W+\",\"errorText\":\"MovieDetails_errorText__kouLd\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"arrow-left2\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.586 27.414l-10-10c-0.781-0.781-0.781-2.047 0-2.828l10-10c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-6.586 6.586h19.172c1.105 0 2 0.895 2 2s-0.895 2-2 2h-19.172l6.586 6.586c0.39 0.39 0.586 0.902 0.586 1.414s-0.195 1.024-0.586 1.414c-0.781 0.781-2.047 0.781-2.828 0z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.aab4f4cb76b5866cac53aba872eaf928.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\nimport {\n  Link,\n  useParams,\n  useLocation,\n  useNavigate,\n  Outlet,\n} from 'react-router-dom';\nimport Loader from 'components/Loader';\nimport movieDetailsStyles from './MovieDetails.module.css';\nimport { getMovieDetails } from 'services/api';\nimport arrow from '../../images/arrow.svg';\nimport noImg from '../../images/not-image.png';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const [movieData, setMovieData] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchMovieDetails = async movieId => {\n      try {\n        setIsLoading(true);\n        const movieDetails = await getMovieDetails(movieId);\n        setMovieData(movieDetails);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovieDetails(movieId);\n  }, [movieId]);\n\n  const handleGoBack = () => {\n    if (location.state) {\n      navigate(location.state.from);\n      return;\n    }\n    navigate('/');\n  };\n\n  return (\n    <div className={movieDetailsStyles.movieInfo}>\n      {isLoading && <Loader />}\n      {error.length > 0 && (\n        <p className={movieDetailsStyles.errorText}>\n          Upss, Some error occured... {error}\n        </p>\n      )}\n      {movieData && (\n        <section>\n          <button className={movieDetailsStyles.button} onClick={handleGoBack}>\n            <img src={arrow} alt=\"arrow\" width=\"15\" />\n            Go back\n          </button>\n          <div className={movieDetailsStyles.description}>\n            <img\n              src={\n                movieData.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movieData.poster_path}`\n                  : noImg\n              }\n              width=\"300\"\n              alt=\"movie moment\"\n            />\n            <div>\n              <h2 className={movieDetailsStyles.titleMovie}>\n                {movieData.title}\n              </h2>\n              <p className={movieDetailsStyles.scoreInfo}>\n                User score:{' '}\n                <span className={movieDetailsStyles.scoreNumber}>\n                  {parseInt(movieData.vote_average * 10)}%\n                </span>\n              </p>\n              <h3>Overview</h3>\n              <span className={movieDetailsStyles.overviewText}>\n                {movieData.overview}\n              </span>\n              <h4>Genres</h4>\n              <span className={movieDetailsStyles.genresList}>\n                {movieData?.genres &&\n                  movieData.genres.map(({ id, name }) => {\n                    return <li key={id}>{name}</li>;\n                  })}\n              </span>\n            </div>\n          </div>\n\n          <div className={movieDetailsStyles.addInfo}>\n            <h5 className={movieDetailsStyles.addTitle}>\n              Additional information\n            </h5>\n            <div className={movieDetailsStyles.addLinks}>\n              <Link to=\"cast\" state={{ from: location.state?.from }}>\n                <p>Cast</p>\n              </Link>\n              <Link to=\"reviews\" state={{ from: location.state?.from }}>\n                <p>Reviews</p>\n              </Link>\n            </div>\n          </div>\n\n          <Outlet />\n        </section>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '04fcc8e75a3911b063e5ccbc7ad56d84';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&language=en-GB`\n  );\n  return response.data.results;\n};\n\nexport const getSearchMovie = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}&language=en-US&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const getMovieDetails = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}&language=en-GB`\n  );\n  return data;\n};\n\nexport const getMovieCredits = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movie_id}/credits?api_key=${API_KEY}&language=en-GB`\n  );\n  return data;\n};\n\nexport const getMovieReviews = async (movie_id = '') => {\n  const { data } = await axios.get(\n    `${BASE_URL}/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-GB&page=1`\n  );\n  return data;\n};\n"],"names":["movieId","useParams","location","useLocation","navigate","useNavigate","useState","movieData","setMovieData","isLoading","setIsLoading","error","setError","useEffect","fetchMovieDetails","getMovieDetails","movieDetails","message","className","movieDetailsStyles","Loader","length","onClick","state","from","src","arrow","alt","width","poster_path","noImg","title","parseInt","vote_average","overview","genres","map","id","name","to","BASE_URL","API_KEY","getTrendingMovies","axios","response","data","results","getSearchMovie","query","movie_id","getMovieCredits","getMovieReviews"],"sourceRoot":""}